/*
waitMe - 1.10 [16.03.15]
Author: vadimsva
Github: https://github.com/vadimsva/waitMe
*/
(function(b){b.fn.waitMe=function(k){return this.each(function(){var f=b(this),v,p,d,q=!1,n="background-color",l="",m="",r,e,c,g,t,h={init:function(){g=b.extend({effect:"bounce",text:"",bg:"rgba(255,255,255,0.7)",color:"#000",sizeW:"",sizeH:"",source:""},k);t=(new Date).getMilliseconds();r=b('<div class="waitMe" data-waitme_id="'+t+'"></div>');var a="width:"+g.sizeW+";height:"+g.sizeH;switch(g.effect){case "none":d=0;break;case "bounce":d=3;e="";c=a;break;case "rotateplane":d=1;e="";c=a;break;case "stretch":d=
5;e="";c=a;break;case "orbit":d=2;e=a;c="";break;case "roundBounce":d=12;e=a;c="";break;case "win8":d=5;q=!0;c=e=a;break;case "win8_linear":d=5;q=!0;e=a;c="";break;case "ios":d=12;e=a;c="";break;case "facebook":d=3;e="";c=a;break;case "rotation":d=1;n="border-color";e="";c=a;break;case "timer":d=2;l="border-color:"+g.color;e=a;c="";break;case "pulse":d=1;n="border-color";e="";c=a;break;case "progressBar":d=1;e="";c=a;break;case "bouncePulse":d=3;e="";c=a;break;case "img":d=1,e="",c=a}""==g.sizeW&&
""==g.sizeH&&(e=c="");""!=e&&""!=l&&(l=";"+l);if(0<d){p=b('<div class="waitMe_progress '+g.effect+'"></div>');if("img"==g.effect)m='<img src="'+g.source+'" style="'+c+'">';else for(a=1;a<=d;++a)m=q?m+('<div class="waitMe_progress_elem'+a+'" style="'+c+'"><div style="'+n+":"+g.color+'"></div></div>'):m+('<div class="waitMe_progress_elem'+a+'" style="'+n+":"+g.color+";"+c+'"></div>');p=b('<div class="waitMe_progress '+g.effect+'" style="'+e+l+'">'+m+"</div>")}g.text&&(v=b('<div class="waitMe_text" style="color:'+
g.color+'">'+g.text+"</div>"));f.find("> .waitMe")&&f.find("> .waitMe").remove();waitMeDivObj=b('<div class="waitMe_content"></div>');waitMeDivObj.append(p,v);r.append(waitMeDivObj);"HTML"==f[0].tagName&&(f=b("body"));f.addClass("waitMe_container").attr("data-waitme_id",t).append(r);f.find("> .waitMe").css({background:g.bg});f.find(".waitMe_content").css({marginTop:-f.find(".waitMe_content").outerHeight()/2+"px"});if(f.outerHeight()>b(window).height()){var h=b(window).scrollTop(),u=f.find(".waitMe_content").outerHeight(),
w=f.offset().top,x=f.outerHeight(),a=Math.abs(h-w+u);f.find(".waitMe_content").css({top:"auto",transform:"translateY("+a+"px)"});b(document).scroll(function(){h=b(window).scrollTop();var a=Math.abs(h-w+b(window).height()/2);0<=a-u&&a+u<=x&&f.find(".waitMe_content").css({top:"auto",transform:"translateY("+a+"px)"})})}},hide:function(){var a=f.attr("data-waitme_id");f.removeClass("waitMe_container").removeAttr("data-waitme_id");f.find('.waitMe[data-waitme_id="'+a+'"]').remove()}};if(h[k])return h[k].apply(this,
Array.prototype.slice.call(arguments,1));if("object"===typeof k||!k)return h.init.apply(this,arguments);b.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})};b(window).load(function(){b("body.waitMe_body").addClass("hideMe");setTimeout(function(){b("body.waitMe_body").find(".waitMe_container:not([data-waitme_id])").remove();b("body.waitMe_body").removeClass("waitMe_body hideMe")},200)})})(jQuery);
